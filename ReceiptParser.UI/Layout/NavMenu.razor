@inject NavigationManager NavManager

<div class="top-row ps-3 navbar navbar-light border-bottom dark-logo-bg">
    <div class="container-fluid">
        <a class="navbar-brand fw-bolder text-dark" href="" style="letter-spacing: 1px;">
            Fiş.AI
        </a>
        <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>

<div class="@NavMenuCssClass nav-scrollable soft-light-sidebar" @onclick="ToggleNavMenu">
    <nav class="flex-column">

        <div class="nav-item px-3">
            <NavLink class="nav-link nav-link-custom d-flex align-items-center gap-3" href="" Match="NavLinkMatch.All">
                <span class="nav-icon-wrapper d-flex align-items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" /><polyline points="9 22 9 12 15 12 15 22" /></svg>
                </span>
                <span>Ana Sayfa</span>
            </NavLink>
        </div>

        <div class="nav-item px-3">
            <NavLink class="nav-link nav-link-custom d-flex align-items-center gap-3" href="my-receipts">
                <span class="nav-icon-wrapper d-flex align-items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /><line x1="8" x2="8" y1="13" y2="13" /><line x1="16" x2="16" y1="13" y2="13" /><line x1="8" x2="8" y1="17" y2="17" /><line x1="16" x2="16" y1="17" y2="17" /><polyline points="10 9 9 9 8 9" /></svg>
                </span>
                <span>Geçmiş Fişler</span>
            </NavLink>
        </div>

        <div class="nav-item px-3">
            <NavLink class="nav-link nav-link-custom d-flex align-items-center gap-3" href="dashboard">
                <span class="nav-icon-wrapper d-flex align-items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18" /><path d="M18 17V9" /><path d="M13 17V5" /><path d="M8 17v-3" /></svg>
                </span>
                <span>Özet Rapor</span>
            </NavLink>
        </div>

    </nav>
</div>

<style>
    .soft-light-sidebar {
        background-color: #f8f9fa !important;
        border-right: 1px solid #eee;
    }

    .dark-logo-bg {
        background-color: #f8f9fa !important;
    }

    .nav-link-custom {
        color: #495057 !important;
        transition: background-color 0.2s, color 0.2s;
        padding-top: 0.5rem !important;
        padding-bottom: 0.5rem !important;
    }

    .nav-link-custom svg {
        stroke: #7f8c8d;
        color: #7f8c8d;
    }

    .nav-link-custom.active {
        background-color: #e6f0ff !important;
        color: #2c3e50 !important;
        font-weight: 600;
        border-radius: 8px;
    }

     .nav-link-custom.active svg, 
     .nav-link-custom.active span {
        color: #3498db !important;
        stroke: #3498db;
     }

    .nav-icon-wrapper {
        min-width: 25px;
    }
</style>

@code {
    private bool collapseNavMenu = true;
    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;
    private void ToggleNavMenu() => collapseNavMenu = !collapseNavMenu;
}